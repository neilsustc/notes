// Adapted from https://github.com/spencerwooo/dowww

// @import url('https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;1,400;1,700&family=Open+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap');

body
  font-family $secondaryFont

h1, h2, h3, h4, h5, h6
  font-family $primaryFont !important
  font-weight 600

.callout
  margin 1rem 0
  padding 0.1rem 1.5rem
  border-radius 0.4rem
  background-color #255b9f09

  .title
    font-weight bold

pre.tree
  border-left-width 0.5rem
  border-left-style solid
  border-color $accentColor !important
  border-radius 0

  & > code
    font-size 14px !important

    & > p
      margin -5px 0 -20px 0

    code
      background-color $accentColor !important
      color #ffffff

      padding 3px 5px
      border-radius 3px

    em
      color #808080
      font-weight light

.hero
  img
    width 240px
    height auto

  h1
    border none
    padding-bottom 0

#search-form
  line-height inherit

// Fixes default theme (@yzhang)

img + svg.icon.outbound
  display none

.theme-container
  .sidebar-button
    top 0.7rem

  .sidebar
    .nav-links
      padding-top 1rem
      padding-bottom 1rem
      border-bottom-color #dadcdf

      .nav-item
      .repo-link
        font-size 1.2em
        padding-left 4px
        border 1px solid transparent

        .dropdown-wrapper
          .dropdown-title
          .mobile-dropdown-title
            font-size 1em

    &>.sidebar-links
      a.sidebar-link:not(.active)
        font-weight normal

      &>li>a.sidebar-link
        font-size 0.9rem
        font-weight normal
        line-height 1.5

    .sidebar-group
      .sidebar-heading
        padding-left 0

  .nav-links a
    font-weight normal

  .dropdown-wrapper
    .dropdown-title
    .mobile-dropdown-title
      font-weight normal

    .dropdown-title .arrow
    .mobile-dropdown-title .arrow
      margin-left 0

    .nav-dropdown
      padding-bottom calc(0.6rem + 0.4px)
      
      .dropdown-item a
        padding 0 calc(1.25rem + 1px) 0 1.25rem

  div[class*="language-"]
    background unset
    border-radius 0

@media (max-width: 719px)
  .theme-container
    .dropdown-wrapper .nav-dropdown .dropdown-item > a
      line-height 1.7rem

    .sidebar .nav-links .dropdown-wrapper .nav-dropdown
      padding-top 0.6rem

      .dropdown-item a.router-link-active::after
        top calc(50% - 2px)

.theme-default-content
  strong
    font-weight bold

// SCROLLBAR
@media (min-width: 719px)
  ::-webkit-scrollbar
    max-width 6px
    max-height 6px
  ::-webkit-scrollbar-thumb
    background-color #f2f3f4
    border-radius 6px

    &:hover
      background-color #eaebed

// SIDEBAR

.sidebar-links
  a.sidebar-link
    transition-duration 0.2s
    transition-timing-function ease-out

    &.active:hover
      color $accentColor

// KBD

kbd
  font-size 0.85em
  padding 0.1rem 0.2rem 0.15rem
  color #444d56
  background-color #fafbfc
  border 0.1rem solid #d1d5da
  border-bottom 0.1rem solid #d1d5da
  border-radius 0.25rem
  box-shadow inset 0 -0.1rem 0 #d1d5da
  margin 0 0.0625rem

// CODE and CODE BLOCKS
.theme-default-content
  code
    color $textColor

  p
  h1
  h2
  h3
  a
  li
  td
  summary
    code
      padding 0.2rem 0.3rem 0.24rem
      white-space nowrap
      vertical-align 0.05rem

  a > code
    color $accentColor

  pre
    background-color #f6f8fa
    color $textColor

    code
      color $textColor

  div[class*="language-"]
    background-color #f6f8fa
    border-radius 5px

    pre.shiki
      background-color transparent !important // Override the hardcoded background color of shiki
      border-radius 5px

    .highlight-lines
      padding-top 1.25rem

      .highlighted
        background-color #fff8c5
        box-shadow inset 2px 0 0 rgba(212,167,44,0.4)

// FIGURE

figure
  text-align center

  figcaption
    color lighten($textColor, 25%)

    a
      color $accentColor075

@media (max-width calc(719px + 244px))
  figure
    margin 1em 0

// CUSTOM BLOCKS

div.custom-block.tip
  div[class*="language-"]
    background #f3f5f7

    pre.shiki
      border 1px solid #c3ccc8

  a
    word-break break-word

div.custom-block.definition
  // background-color #f3f5f7
  padding 0.1rem 1.5rem
  margin 1rem 0
  border-radius 0.3rem
  border: 1px solid rgb(208, 215, 222)

  .title
    margin-top 1rem
    font-weight 600
    margin-bottom -0.4rem
    font-size: 1.2em

  p:not(.title)
    color #515866

// DETAILS

summary:focus
  outline none

details.custom-block.details
  background-color white
  border 1px solid #dddddd
  box-shadow 1px 1px 1px #dddddd
  padding 1em 1.2em
  transition box-shadow 0.2s ease-out;

  &[open]
    box-shadow none

  div
  img
    &:nth-child(2)
      margin-top 1em

  pre
    margin-bottom 0
    margin-top 0

// BLOCKQUOTE

.theme-default-content
  blockquote
    border-left: 0.5rem solid #dfe2e5
    padding 0.5rem 1rem
    background #fbfbfc

    blockquote
      padding 1px 1rem  // if the padding-top is 0, the margin-top of the child p will be ignored (margin collapsing)

    pre
      background #fbfbfc !important
      border 1px solid #dfe2e5

      code
        color #999
  
    code
      color #999
  
    & > p
    details
    details p
      margin .5em 0

    details blockquote:last-child
      margin-bottom 0.5rem

    & > hr
      width 80%
      margin 1em auto

    a
      color $accentColor075

// HR

hr
  width 50%
  margin 3em auto

// A

a
  display inline-block
  // otherwise there is unwanted space between <svg> and <span class="sr-only">
  // https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Whitespace

main.page li > a:only-child
  display inline

a.outbound:after
  content url(/notes/imgs/outbound.svg)
  vertical-align middle

a.outbound.smaller:after
  content url(/notes/imgs/outbound-smaller.svg)
  vertical-align middle

// MATH
.katex-display
  overflow-x scroll
  overflow-y hidden
  scrollbar-width none // Firefox

  &::-webkit-scrollbar // Chrome
    display none

// SPECIFIC to this site

.cn-font
  font-family $cnFont

mark
  background-color unset
  color $accentColor
  font-weight bold

img.border
  border 1px solid #dddddd

table.center
  margin-left auto
  margin-right auto
  width fit-content

.accent
  color #297abd

.accent.mord // Fix for KaTeX
  color $textColor

sup.footnote-ref
  a
    font-weight normal

section.footnotes
  font-family -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, 'Noto Sans CJK SC', 'Source Han Sans SC', 'Source Han Sans CN', 'Microsoft Yahei', sans-serif

  li
    p
      margin-top 0
      margin-bottom 0.5em

.target
  padding-top 5rem
  margin-top -5rem

  &:target
    background-image linear-gradient(0, #FFD200 6%, transparent 6%)

hr + .target
  p:first-child
    margin-top 0

.theme-default-content:not(.custom)
  & > ul
  & > ol
    margin-left 1em

@media print
  header
  .page-nav
  .sidebar
    display none
  
  .theme-default-content:not(.custom)
    padding 0

    h1
      margin-top 0
      padding-top 2rem
    h2
    h3
    h4
      margin-top 0
      padding-top 1.5rem
    & > div:first-child
      margin-top 1rem

  div.custom-block
    break-inside avoid

@page
  margin 0.75in

span.nowrap
td.nowrap
  white-space nowrap

// OVERWIRTE default theme

.theme-default-content:not(.custom) > h1
  padding-top 5.5rem
  padding-bottom .3rem
